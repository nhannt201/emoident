{"ast":null,"code":"import express from \"express\";\nimport cors from \"cors\";\nimport bodyParser from \"body-parser\";\nimport diagnose from \"./api/diagnose\";\nimport { renderApp } from \"./renderApp\";\nconst server = express();\nserver.use(cors('*')).disable('x-powered-by').use(bodyParser.json({\n  limit: '5mb'\n})).use(bodyParser.urlencoded({\n  extended: true\n})).use('/api', diagnose).get('/*', (req, res, next) => {\n  try {\n    const {\n      context,\n      html\n    } = renderApp(req, res);\n    if (context.url) {\n      res.redirect(context.url);\n    } else {\n      res.status(context.statusCode || 200).send(html);\n    }\n  } catch (error) {\n    next(error);\n  }\n});\nexport default server;","map":{"version":3,"names":["express","cors","bodyParser","diagnose","renderApp","server","use","disable","json","limit","urlencoded","extended","get","req","res","next","context","html","url","redirect","status","statusCode","send","error"],"sources":["D:/LAPTRINH/emoident/src/server.js"],"sourcesContent":["import express from \"express\";\r\nimport cors from \"cors\";\r\nimport bodyParser from \"body-parser\";\r\nimport diagnose from \"./api/diagnose\";\r\nimport {renderApp} from \"./renderApp\";\r\n\r\nconst server = express();\r\nserver\r\n    .use(cors('*'))\r\n    .disable('x-powered-by')\r\n    .use(bodyParser.json({ limit: '5mb' }))\r\n    .use(bodyParser.urlencoded({ extended: true }))\r\n    .use('/api', diagnose)\r\n    .get('/*',  (req, res, next) => {\r\n        try {\r\n            const { context, html } = renderApp(req, res);\r\n            if (context.url) {\r\n                res.redirect(context.url);\r\n            } else {\r\n                res.status(context.statusCode || 200).send(html);\r\n            }\r\n        } catch (error) {\r\n            next(error);\r\n        }\r\n});\r\n\r\n\r\nexport default server;\r\n\r\n\r\n"],"mappings":"AAAA,OAAOA,OAAO,MAAM,SAAS;AAC7B,OAAOC,IAAI,MAAM,MAAM;AACvB,OAAOC,UAAU,MAAM,aAAa;AACpC,OAAOC,QAAQ,MAAM,gBAAgB;AACrC,SAAQC,SAAS,QAAO,aAAa;AAErC,MAAMC,MAAM,GAAGL,OAAO,CAAC,CAAC;AACxBK,MAAM,CACDC,GAAG,CAACL,IAAI,CAAC,GAAG,CAAC,CAAC,CACdM,OAAO,CAAC,cAAc,CAAC,CACvBD,GAAG,CAACJ,UAAU,CAACM,IAAI,CAAC;EAAEC,KAAK,EAAE;AAAM,CAAC,CAAC,CAAC,CACtCH,GAAG,CAACJ,UAAU,CAACQ,UAAU,CAAC;EAAEC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAAC,CAC9CL,GAAG,CAAC,MAAM,EAAEH,QAAQ,CAAC,CACrBS,GAAG,CAAC,IAAI,EAAG,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAC5B,IAAI;IACA,MAAM;MAAEC,OAAO;MAAEC;IAAK,CAAC,GAAGb,SAAS,CAACS,GAAG,EAAEC,GAAG,CAAC;IAC7C,IAAIE,OAAO,CAACE,GAAG,EAAE;MACbJ,GAAG,CAACK,QAAQ,CAACH,OAAO,CAACE,GAAG,CAAC;IAC7B,CAAC,MAAM;MACHJ,GAAG,CAACM,MAAM,CAACJ,OAAO,CAACK,UAAU,IAAI,GAAG,CAAC,CAACC,IAAI,CAACL,IAAI,CAAC;IACpD;EACJ,CAAC,CAAC,OAAOM,KAAK,EAAE;IACZR,IAAI,CAACQ,KAAK,CAAC;EACf;AACR,CAAC,CAAC;AAGF,eAAelB,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}